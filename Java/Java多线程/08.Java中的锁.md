# Java中的锁

---

## 1.无锁实现的原理
* CAS(compare and swap).指令
	* 目标值与寄存器的值是否相等,相等就设置一个跳转标志并将原始数据设到目标里,否则跳转标志就不设置
	* 乐观锁实现
	* 无锁的效率更高,因为其不会将线程挂起，只会不断的重试
	* CAS的整个一行操作是原子性的操作是一条指令完成的,从指令层面来保证其可靠
	* 线程被挂起需要做一次上下文切换,一次切换大概需要80000个时钟周期,一次重试操作大概10个左右的时钟周期,因此无锁的操作要比阻塞的性能强

## 2.无锁类
#### 2.1 AtomicInteger